services:
  rdrive:
    image: ghcr.io/sardelka9515/rdrive:latest
    container_name: rdrive
    ports:
      - "8080:8080"
      - "5572:5572"
    volumes:
      - rclone-config:/root/.config/rclone
      - rdrive-data:/app/data
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      - Rclone__Path=rclone
      - Rclone__Address=http://127.0.0.1:5572
      - Rclone__User=admin
      - Rclone__Password=securepass
      # OIDC authentication (leave empty to disable)
      # - Authentication__Authority=https://keycloak.example.com/realms/rdrive
      # - Authentication__Audience=account
      # - Authentication__ClientId=rdrive
    restart: unless-stopped

volumes:
  rclone-config:
  rdrive-data:
